!function(e,t,i){"use strict";function n(e,t,i,n){return new(i||(i=Promise))(function(o,s){function r(e){try{d(n.next(e))}catch(t){s(t)}}function a(e){try{d(n.throw(e))}catch(t){s(t)}}function d(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,a)}d((n=n.apply(e,t||[])).next())})}class o extends Error{constructor(e,t=0,i=""){super(e),this.name="AppwriteException",this.message=e,this.code=t,this.response=i}}class s{}s.equal=(e,t)=>s.addQuery(e,"equal",t),s.notEqual=(e,t)=>s.addQuery(e,"notEqual",t),s.lesser=(e,t)=>s.addQuery(e,"lesser",t),s.lesserEqual=(e,t)=>s.addQuery(e,"lesserEqual",t),s.greater=(e,t)=>s.addQuery(e,"greater",t),s.greaterEqual=(e,t)=>s.addQuery(e,"greaterEqual",t),s.search=(e,t)=>s.addQuery(e,"search",t),s.addQuery=(e,t,i)=>i instanceof Array?`${e}.${t}(${i.map(e=>s.parseValues(e)).join(",")})`:`${e}.${t}(${s.parseValues(i)})`,s.parseValues=e=>"string"==typeof e||e instanceof String?`"${e}"`:`${e}`,e.Appwrite=class e{constructor(){this.config={endpoint:"https://HOSTNAME/v1",endpointRealtime:"",project:"",jwt:"",locale:""},this.headers={"x-sdk-version":"appwrite:web:6.0.1","X-Appwrite-Response-Format":"0.12.0"},this.account={get:()=>n(this,void 0,void 0,function*(){let e=new URL(this.config.endpoint+"/account");return yield this.call("get",e,{"content-type":"application/json"},{})}),create:(e,t,i,s)=>n(this,void 0,void 0,function*(){if(void 0===e)throw new o('Missing required parameter: "userId"');if(void 0===t)throw new o('Missing required parameter: "email"');if(void 0===i)throw new o('Missing required parameter: "password"');let n={};void 0!==e&&(n.userId=e),void 0!==t&&(n.email=t),void 0!==i&&(n.password=i),void 0!==s&&(n.name=s);let r=new URL(this.config.endpoint+"/account");return yield this.call("post",r,{"content-type":"application/json"},n)}),updateEmail:(e,t)=>n(this,void 0,void 0,function*(){if(void 0===e)throw new o('Missing required parameter: "email"');if(void 0===t)throw new o('Missing required parameter: "password"');let i={};void 0!==e&&(i.email=e),void 0!==t&&(i.password=t);let n=new URL(this.config.endpoint+"/account/email");return yield this.call("patch",n,{"content-type":"application/json"},i)}),createJWT:()=>n(this,void 0,void 0,function*(){let e=new URL(this.config.endpoint+"/account/jwt");return yield this.call("post",e,{"content-type":"application/json"},{})}),updateName:e=>n(this,void 0,void 0,function*(){if(void 0===e)throw new o('Missing required parameter: "name"');let t={};void 0!==e&&(t.name=e);let i=new URL(this.config.endpoint+"/account/name");return yield this.call("patch",i,{"content-type":"application/json"},t)}),getPrefs:()=>n(this,void 0,void 0,function*(){let e=new URL(this.config.endpoint+"/account/prefs");return yield this.call("get",e,{"content-type":"application/json"},{})}),updatePrefs:e=>n(this,void 0,void 0,function*(){if(void 0===e)throw new o('Missing required parameter: "prefs"');let t={};void 0!==e&&(t.prefs=e);let i=new URL(this.config.endpoint+"/account/prefs");return yield this.call("patch",i,{"content-type":"application/json"},t)}),createSession:(e,t)=>n(this,void 0,void 0,function*(){if(void 0===e)throw new o('Missing required parameter: "email"');if(void 0===t)throw new o('Missing required parameter: "password"');let i={};void 0!==e&&(i.email=e),void 0!==t&&(i.password=t);let n=new URL(this.config.endpoint+"/account/sessions");return yield this.call("post",n,{"content-type":"application/json"},i)}),createAnonymousSession:()=>n(this,void 0,void 0,function*(){let e=new URL(this.config.endpoint+"/account/sessions/anonymous");return yield this.call("post",e,{"content-type":"application/json"},{})}),createMagicURLSession:(e,t,i)=>n(this,void 0,void 0,function*(){if(void 0===e)throw new o('Missing required parameter: "userId"');if(void 0===t)throw new o('Missing required parameter: "email"');let n={};void 0!==e&&(n.userId=e),void 0!==t&&(n.email=t),void 0!==i&&(n.url=i);let s=new URL(this.config.endpoint+"/account/sessions/magic-url");return yield this.call("post",s,{"content-type":"application/json"},n)}),updateMagicURLSession:(e,t)=>n(this,void 0,void 0,function*(){if(void 0===e)throw new o('Missing required parameter: "userId"');if(void 0===t)throw new o('Missing required parameter: "secret"');let i={};void 0!==e&&(i.userId=e),void 0!==t&&(i.secret=t);let n=new URL(this.config.endpoint+"/account/sessions/magic-url");return yield this.call("put",n,{"content-type":"application/json"},i)}),createOAuth2Session:(e,t,i,n)=>{if(void 0===e)throw new o('Missing required parameter: "provider"');let s="/account/sessions/oauth2/{provider}".replace("{provider}",e),r={};void 0!==t&&(r.success=t),void 0!==i&&(r.failure=i),void 0!==n&&(r.scopes=n);let a=new URL(this.config.endpoint+s);for(let[d,c]of(r.project=this.config.project,Object.entries(this.flatten(r))))a.searchParams.append(d,c);if("undefined"==typeof window||null==window||!window.location)return a;window.location.href=a.toString()},getSession:e=>n(this,void 0,void 0,function*(){if(void 0===e)throw new o('Missing required parameter: "sessionId"');let t="/account/sessions/{sessionId}".replace("{sessionId}",e),i=new URL(this.config.endpoint+t);return yield this.call("get",i,{"content-type":"application/json"},{})}),deleteSession:e=>n(this,void 0,void 0,function*(){if(void 0===e)throw new o('Missing required parameter: "sessionId"');let t="/account/sessions/{sessionId}".replace("{sessionId}",e),i=new URL(this.config.endpoint+t);return yield this.call("delete",i,{"content-type":"application/json"},{})})},this.avatars={getFavicon:e=>{if(void 0===e)throw new o('Missing required parameter: "url"');let t={};void 0!==e&&(t.url=e);let i=new URL(this.config.endpoint+"/avatars/favicon");for(let[n,s]of(t.project=this.config.project,Object.entries(this.flatten(t))))i.searchParams.append(n,s);return i},getInitials:(e,t,i,n,o)=>{let s={};void 0!==e&&(s.name=e),void 0!==t&&(s.width=t),void 0!==i&&(s.height=i),void 0!==n&&(s.color=n),void 0!==o&&(s.background=o);let r=new URL(this.config.endpoint+"/avatars/initials");for(let[a,d]of(s.project=this.config.project,Object.entries(this.flatten(s))))r.searchParams.append(a,d);return r}},this.database={listDocuments:(e,t,i,s,r,a,d,c)=>n(this,void 0,void 0,function*(){if(void 0===e)throw new o('Missing required parameter: "collectionId"');let n="/database/collections/{collectionId}/documents".replace("{collectionId}",e),l={};void 0!==t&&(l.queries=t),void 0!==i&&(l.limit=i),void 0!==s&&(l.offset=s),void 0!==r&&(l.cursor=r),void 0!==a&&(l.cursorDirection=a),void 0!==d&&(l.orderAttributes=d),void 0!==c&&(l.orderTypes=c);let p=new URL(this.config.endpoint+n);return yield this.call("get",p,{"content-type":"application/json"},l)}),createDocument:(e,t,i,s,r)=>n(this,void 0,void 0,function*(){if(void 0===e)throw new o('Missing required parameter: "collectionId"');if(void 0===t)throw new o('Missing required parameter: "documentId"');if(void 0===i)throw new o('Missing required parameter: "data"');let n="/database/collections/{collectionId}/documents".replace("{collectionId}",e),a={};void 0!==t&&(a.documentId=t),void 0!==i&&(a.data=i),void 0!==s&&(a.read=s),void 0!==r&&(a.write=r);let d=new URL(this.config.endpoint+n);return yield this.call("post",d,{"content-type":"application/json"},a)}),updateDocument:(e,t,i,s,r)=>n(this,void 0,void 0,function*(){if(void 0===e)throw new o('Missing required parameter: "collectionId"');if(void 0===t)throw new o('Missing required parameter: "documentId"');if(void 0===i)throw new o('Missing required parameter: "data"');let n="/database/collections/{collectionId}/documents/{documentId}".replace("{collectionId}",e).replace("{documentId}",t),a={};void 0!==i&&(a.data=i),void 0!==s&&(a.read=s),void 0!==r&&(a.write=r);let d=new URL(this.config.endpoint+n);return yield this.call("patch",d,{"content-type":"application/json"},a)}),deleteDocument:(e,t)=>n(this,void 0,void 0,function*(){if(void 0===e)throw new o('Missing required parameter: "collectionId"');if(void 0===t)throw new o('Missing required parameter: "documentId"');let i="/database/collections/{collectionId}/documents/{documentId}".replace("{collectionId}",e).replace("{documentId}",t),n=new URL(this.config.endpoint+i);return yield this.call("delete",n,{"content-type":"application/json"},{})})},this.teams={get:e=>n(this,void 0,void 0,function*(){if(void 0===e)throw new o('Missing required parameter: "teamId"');let t="/teams/{teamId}".replace("{teamId}",e),i=new URL(this.config.endpoint+t);return yield this.call("get",i,{"content-type":"application/json"},{})})}}setEndpoint(e){return this.config.endpoint=e,this.config.endpointRealtime=this.config.endpointRealtime||this.config.endpoint.replace("https://","wss://").replace("http://","ws://"),this}setProject(e){return this.headers["X-Appwrite-Project"]=e,this.config.project=e,this}setJWT(e){return this.headers["X-Appwrite-JWT"]=e,this.config.jwt=e,this}setLocale(e){return this.headers["X-Appwrite-Locale"]=e,this.config.locale=e,this}call(e,t,s={},r={}){var a,d;return n(this,void 0,void 0,function*(){e=e.toUpperCase(),s=Object.assign(Object.assign({},s),this.headers);let n={method:e,headers:s,credentials:"include"};if("undefined"!=typeof window&&window.localStorage&&(s["X-Fallback-Cookies"]=null!==(a=window.localStorage.getItem("cookieFallback"))&&void 0!==a?a:""),"GET"===e)for(let[c,l]of Object.entries(this.flatten(r)))t.searchParams.append(c,l);else switch(s["content-type"]){case"application/json":n.body=JSON.stringify(r);break;case"multipart/form-data":let p=new FormData;for(let u in r)Array.isArray(r[u])?r[u].forEach(e=>{p.append(u+"[]",e)}):p.append(u,r[u]);n.body=p,delete s["content-type"]}try{let h=null,f=yield i.fetch(t.toString(),n);if(h=(null===(d=f.headers.get("content-type"))||void 0===d?void 0:d.includes("application/json"))?yield f.json():{message:yield f.text()},400<=f.status)throw new o(null==h?void 0:h.message,f.status,h);let v=f.headers.get("X-Fallback-Cookies");return"undefined"!=typeof window&&window.localStorage&&v&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",v)),h}catch($){if($ instanceof o)throw $;throw new o($.message)}})}flatten(e,t=""){let i={};for(let n in e){let o=e[n],s=t?`${t}[${n}]`:n;Array.isArray(o)?i=Object.assign(i,this.flatten(o,s)):i[s]=o}return i}},e.Query=s,Object.defineProperty(e,"__esModule",{value:!0})}(this.window=this.window||{},null,window);