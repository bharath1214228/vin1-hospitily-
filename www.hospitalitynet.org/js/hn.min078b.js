var currentyear=new Date().getFullYear(),appwriteEndpoint="https://app.hospitalitynet.org/v1",appwriteProject="60e70fa53301e",appwriteTeam="60e719dfbaa9d",appwriteComments="60e7104b230a1";const appwrite=new Appwrite;appwrite.setEndpoint(appwriteEndpoint).setProject(appwriteProject),Vue.use(VueTimeago,{locale:"en"}),Vue.use(VueLazyload,{loading:"/placeholder.svg",preLoad:1.3,attempt:1,lazyComponent:!0,observer:!0,listenEvents:["scroll","wheel","mousewheel","resize"]}),Vue.filter("pluralize",function(e,t){return 1===parseInt(e)?t:t+"s"});var vue=new window.Vue({el:"#app",data:{windowWidth:0,windowHeight:0,show:!1,loading_script:!1,showlogin:!1,userprofile:{},onboarding:!1,admin:!1,theme:"light"},mounted(){this.getUserprofile(),window.addEventListener("resize",()=>{window.innerWidth>1024?this.show=!0:this.show=!1})},beforeDestroy(){window.removeEventListener("resize")},methods:{updateflashmessage(e){this.flash.message=e},login(){this.showlogin=!0},async checkLogin(){if(this.userprofile!={}){this.showlogin=!0;return}},async getUserprofile(e){try{this.userprofile=await appwrite.account.get(),e&&(void 0===this.userprofile.prefs.onboardingCompleted||!1==this.userprofile.prefs.onboardingCompleted)&&(this.onboarding=!0),this.getUsersession(),this.isAdmin()}catch(t){this.userprofile={};var o=new URLSearchParams(window.location.search);o.has("userId")&&o.has("secret")&&this.magicLogin(o.get("userId"),o.get("secret"))}},async magicLogin(e,t){try{await appwrite.account.updateMagicURLSession(e,t),this.getUserprofile("onboarding")}catch(o){alert("MagicLogin error: "+o)}let r=window.location.href.replace(window.location.search,"");history.replaceState(null,null,r)},async getUsersession(){try{let e=await appwrite.account.getSession("current");this.userprofile={...this.userprofile,session:{id:e.providerUid,name:e.provider,token:e.providerToken}},this.userprofile.prefs.profilePicture||this.getProfilePicture()}catch(t){console.log(t)}},async getProfilePicture(){switch(this.userprofile.session.name){case"facebook":var e="https://graph.facebook.com/"+this.userprofile.session.id+"/picture?type=small&access_token="+this.userprofile.session.token,t=await fetch(e);t.ok&&this.setProfilePicture(t.url);break;case"google":var e="https://people.googleapis.com/v1/people/me/?personFields=photos&access_token="+this.userprofile.session.token;fetch(e,{cache:"no-store"}).then(e=>e.json()).then(e=>{var t=e.photos.filter(function(e){return!0==e.metadata.primary&&"PROFILE"==e.metadata.source.type});t[0]&&this.setProfilePicture(t[0].url)});break;case"linkedin":var e="/linkedin/v2/me?projection=(profilePicture(displayImage~:playableStreams))&oauth2_access_token="+this.userprofile.session.token;fetch(e,{cache:"no-store"}).then(e=>e.json()).then(e=>{e.profilePicture&&e.profilePicture["displayImage~"]&&e.profilePicture["displayImage~"].elements[0]&&this.setProfilePicture(e.profilePicture&&e.profilePicture["displayImage~"]&&e.profilePicture["displayImage~"].elements[0].identifiers[0].identifier)})}},async setProfilePicture(e){var t=this.userprofile.prefs;t.profilePicture=e;try{await appwrite.account.updatePrefs(t),this.userprofile=await appwrite.account.get()}catch(o){}},async isAdmin(){try{await appwrite.teams.get(appwriteTeam),this.userprofile={...this.userprofile,administrator:!0}}catch(e){}}},components:{"cookie-notice":window.httpVueLoader("/components/CookieNotice.vue?v="+version),"dfp-slot":window.httpVueLoader("/components/DfpSlot.vue?v="+version),"text-ad":window.httpVueLoader("/components/TextAd.vue?v="+version),cta:window.httpVueLoader("/components/Cta.vue?v="+version),"add-to-calendar":window.httpVueLoader("/components/AddToCalendar.vue?v="+version),moment:window.httpVueLoader("/components/Moment.vue?v="+version),list:window.httpVueLoader("/components/List.vue?v="+version),simplelist:window.httpVueLoader("/components/Simplelist.vue?v="+version),search:window.httpVueLoader("/components/Search.vue?v="+version),"search-results":window.httpVueLoader("/components/SearchResults.vue?v="+version),admin:window.httpVueLoader("/components/Admin.vue?v="+version),popmenu:window.httpVueLoader("/components/PopMenu.vue?v="+version),comments:window.httpVueLoader("/components/Comments.vue?v="+version),"follow-button":window.httpVueLoader("/components/FollowButton.vue?v="+version),following:window.httpVueLoader("/components/Following.vue?v="+version),"like-button":window.httpVueLoader("/components/LikeButton.vue?v="+version),"save-button":window.httpVueLoader("/components/SaveButton.vue?v="+version),"reading-time":window.httpVueLoader("/components/ReadingTime.vue?v="+version),"user-button":window.httpVueLoader("/components/UserButton.vue?v="+version),"user-onboarding":window.httpVueLoader("/components/UserOnboarding.vue?v="+version),"user-following":window.httpVueLoader("/components/UserFollowing.vue?v="+version),"more-content":window.httpVueLoader("/components/MoreContent.vue?v="+version),"more-like-this":window.httpVueLoader("/components/MoreLikeThis.vue?v="+version),"more-in":window.httpVueLoader("/components/MoreIn.vue?v="+version),"most-read":window.httpVueLoader("/components/MostRead.vue?v="+version),"my-profile":window.httpVueLoader("/components/MyProfile.vue?v="+version),"newsletter-subscribe":window.httpVueLoader("/components/NewsletterSubscribe.vue?v="+version),newsletters:window.httpVueLoader("/components/Newsletters.vue?v="+version),"social-links":window.httpVueLoader("/components/SocialLinks.vue?v="+version),"toggle-theme":window.httpVueLoader("/components/ToggleTheme.vue?v="+version),mapbox:window.httpVueLoader("/components/Map.vue?v="+version),facebook:window.httpVueLoader("/components/Facebook.vue?v="+version),twitter:window.httpVueLoader("/components/Twitter.vue?v="+version),reorder:window.httpVueLoader("/components/Reorder.vue?v="+version),upcoming:window.httpVueLoader("/components/Upcoming.vue?v="+version),"mediakit-form":window.httpVueLoader("/components/MediakitForm.vue?v="+version),"hotel-demand":window.httpVueLoader("/components/HotelDemand.vue?v="+version)}});function refreshProfilePicture(){vue.getProfilePicture()}const container=document.querySelector(".tabs"),primary=container.querySelector("ul"),primaryItems=container.querySelectorAll("ul > li:not(.more)");container.classList.add("--jsfied"),primary.insertAdjacentHTML("beforeend",`
<li class="more">
<button type="button" aria-haspopup="true" aria-expanded="false">
  More <span>&lsaquo;</span>
</button>
<ul class="-secondary">
  ${primary.innerHTML}
</ul>
</li>
`);const secondary=container.querySelector(".-secondary"),secondaryItems=secondary.querySelectorAll("li"),allItems=container.querySelectorAll("li"),moreLi=primary.querySelector(".more"),moreBtn=moreLi.querySelector("button");moreBtn.addEventListener("click",e=>{e.preventDefault(),container.classList.toggle("--show-secondary"),moreBtn.setAttribute("aria-expanded",container.classList.contains("--show-secondary"))});const doAdapt=()=>{allItems.forEach(e=>{e.classList.remove("--hidden")});let e=moreBtn.offsetWidth,t=[],o=primary.offsetWidth;primaryItems.forEach((r,s)=>{o>=e+r.offsetWidth?e+=r.offsetWidth:(r.classList.add("--hidden"),t.push(s))}),t.length?secondaryItems.forEach((e,o)=>{t.includes(o)||e.classList.add("--hidden")}):(moreLi.classList.add("--hidden"),container.classList.remove("--show-secondary"),moreBtn.setAttribute("aria-expanded",!1))};doAdapt(),setTimeout(function(){doAdapt()},250),window.addEventListener("DOMContentLoaded",doAdapt),window.addEventListener("resize",doAdapt),function(){var e,t,o=document.documentElement,r=window,s=r.scrollY||o.scrollTop,i=0,n=0,a=document.getElementById("site-header"),p=function(){(i=(e=r.scrollY||o.scrollTop)>s?2:1)!==n&&(t=c()),s=e,t&&(n=i)},c=function(){return t=!0,2===i&&e>100?a.classList.add("hide"):1===i?a.classList.remove("hide"):t=!1,t};window.addEventListener("scroll",p)}();var sidebar=document.getElementById("sidebar"),sticky=document.getElementById("sticky-sidebar");if(null!==sidebar&&null!==sticky){var e=window.scrollY,t=function(t){var o=window.innerHeight-sticky.offsetHeight,r=parseInt(sticky.style.top.replace("px ",""));window.scrollY<e?window.innerHeight>sticky.offsetHeight?sticky.style.top="0px":r<0?sticky.style.top=r+e-window.scrollY+"px":sidebar.innerHeight>window.innerHeight?sticky.style.top=r+e-window.scrollY+"px":r>0&&0!=r&&(sticky.style.top="0px"):window.innerHeight>sticky.offsetHeight?sticky.style.top="0px":r>o?sticky.style.top=r+e-window.scrollY+"px":sidebar.innerHeight>sticky.innerHeight?sticky.style.top="0px":r<o&&r!=o&&(sticky.style.top=o+"px"),e=window.scrollY};function o(){setTimeout(()=>{sticky.style.top="0px",window.innerHeight,sticky.offsetHeight,window.scrollY},500)}window.addEventListener("scroll",t,!1),window.addEventListener("resize",t,!1),o()}let iframe=document.querySelectorAll("iframe.resize")[0];if(iframe){if("dark"===localStorage.theme||!("theme"in localStorage)&&userPrefersDark){let r={darkmode:!0},s=()=>iframe.contentWindow.postMessage(r,"*");iframe.addEventListener("load",s,!0)}window.addEventListener("message",function(e){"https://register.hospitalitynet.org"===e.origin&&e.data.height&&(iframe.style.height=e.data.height+"px")},!1)}